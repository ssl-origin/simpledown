<!-- INCLUDE overall_header.html -->
<!-- INCLUDECSS @mundophpbb_simpledown/simpledown.css -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bai+Jamjuree:wght@400;500;600;700&display=swap" rel="stylesheet">

<div class="simpledown-container">
    <div class="simpledown-header-panel">
        <h2 class="file-name-uppercase">{FILE_NAME}</h2>
        <p class="category-breadcrumb">
            {L_SIMPLEDOWN_CATEGORY}: <strong><em>{CAT_NAME}</em></strong>
        </p>
    </div>

    <!-- Card expandido de detalhes -->
    <div class="simpledown-card details-card-expanded">
        <div class="card-content details-card-content">
            <div class="details-text-fullwidth">
                <!-- Descrição completa -->
                <!-- IF FILE_DESC and FILE_DESC != L_SIMPLEDOWN_NO_DESCRIPTION -->
                <p class="file-description-full">{FILE_DESC}</p>
                <!-- ELSE -->
                <p class="file-description-full no-description">{L_SIMPLEDOWN_NO_DESCRIPTION}</p>
                <!-- ENDIF -->

                <!-- Linha única com infos -->
                <div class="details-single-info-row">
                    <span class="details-file-name">
                        <i class="icon fa-fw {FILE_ICON}"></i>
                        {FILE_REALNAME}
                    </span>
                    <span class="info-downloads">
                        <i class="icon fa-download fa-fw"></i> {FILE_DOWNLOADS} {L_SIMPLEDOWN_DOWNLOADS_LOWER}
                    </span>
                    <span class="info-size">
                        <i class="icon fa-hdd-o fa-fw"></i> {FILE_SIZE}
                    </span>

                    <!-- Botão PREVER: apenas ícone, só para imagens -->
                    <!-- IF HAS_THUMBNAIL -->
                    <span class="preview-btn" data-preview-url="{U_PREVIEW}" onclick="openImageModal(this)" title="{L_SIMPLEDOWN_PREVIEW_IMAGE}">
                        <i class="icon fa-eye fa-fw"></i>
                    </span>
                    <!-- ENDIF -->
                </div>
            </div>
        </div>

        <!-- Botão BAIXAR centralizado -->
        <div class="card-footer details-card-footer">
            <a href="{U_DOWNLOAD}" class="download-btn">
                <i class="icon fa-download fa-fw"></i> {L_DOWNLOAD_BUTTON}
            </a>
        </div>
    </div>

    <div class="back-link">
        <a href="{U_SIMPLEDOWN}">{L_SIMPLEDOWN_BACK_TO_DOWNLOADS}</a>
    </div>
</div>

<!-- Modal de pré-visualização de imagem -->
<div id="image-modal" class="image-modal">
    <div class="modal-image-wrapper">
        <span class="modal-close" onclick="closeImageModal()">&times;</span>
        <img id="modal-image" class="modal-image-content" alt="{L_SIMPLEDOWN_IMAGE_PREVIEW_ALT}" />
    </div>
</div>

<script>
function openImageModal(element) {
    const src = element.getAttribute('data-preview-url');
    if (!src) return;

    const modal = document.getElementById('image-modal');
    const img = document.getElementById('modal-image');
    img.src = src;
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

function closeImageModal() {
    document.getElementById('image-modal').style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Fechar ao clicar no fundo
window.addEventListener('click', function(event) {
    const modal = document.getElementById('image-modal');
    if (event.target === modal) {
        closeImageModal();
    }
});
</script>

<!-- INCLUDE overall_footer.html -->